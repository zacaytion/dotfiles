# # User Configuration
#
# Create with `wt config create`.
#
# Location:
#
# - macOS/Linux: `~/.config/worktrunk/config.toml` (or `$XDG_CONFIG_HOME` if set)
# - Windows: `%APPDATA%\worktrunk\config.toml`
#
# ## Worktree path template
#
# Controls where new worktrees are created.
#
# **Variables:**
#
# - `{{ repo_path }}` — absolute path to the repository (e.g., `/Users/me/code/myproject`)
# - `{{ repo }}` — repository directory name (e.g., `myproject`)
# - `{{ branch }}` — raw branch name (e.g., `feature/auth`)
# - `{{ branch | sanitize }}` — filesystem-safe: `/` and `\` become `-` (e.g., `feature-auth`)
# - `{{ branch | sanitize_db }}` — database-safe: lowercase, underscores, hash suffix (e.g., `feature_auth_x7k`)
#
# **Examples** for repo at `~/code/myproject`, branch `feature/auth`:
#
# # Default — sibling directory
# # Creates: ~/code/myproject.feature-auth
# # worktree-path = "{{ repo_path }}/../{{ repo }}.{{ branch | sanitize }}"
#
# # Inside the repository
# # Creates: ~/code/myproject/.worktrees/feature-auth
# worktree-path = "{{ repo_path }}/.worktrees/{{ branch | sanitize }}"
#
# # Centralized worktrees directory
# # Creates: ~/worktrees/myproject/feature-auth
# worktree-path = "~/worktrees/{{ repo }}/{{ branch | sanitize }}"
#
# `~` expands to the home directory. Relative paths are relative to the repository root.
#
# ## LLM commit messages
#
# Generate commit messages automatically during merge. Requires an external CLI tool.
#
# See LLM commits docs (https://worktrunk.dev/llm-commits/) for setup and Custom prompt templates (#custom-prompt-templates) for template customization.
#
# ## Command config
#
# ### List
#
# Persistent flag values for `wt list`. Override on command line as needed.
#
# [list]
# summary = false    # Enable LLM branch summaries (requires [commit.generation])
#
# full = false       # Show CI, main…± diffstat, and LLM summaries (--full)
# branches = false   # Include branches without worktrees (--branches)
# remotes = false    # Include remote-only branches (--remotes)
#
# ### Commit
#
# Shared by `wt step commit`, `wt step squash`, and `wt merge`.
#
# [commit]
# stage = "all"      # What to stage before commit: "all", "tracked", or "none"
#
# ### Merge
#
# All flags are on by default. Set to false to change default behavior.
#
# [merge]
# squash = true      # Squash commits into one (--no-squash to preserve history)
# commit = true      # Commit uncommitted changes first (--no-commit to skip)
# rebase = true      # Rebase onto target before merge (--no-rebase to skip)
# remove = true      # Remove worktree after merge (--no-remove to keep)
# verify = true      # Run project hooks (--no-verify to skip)
#
# ### Switch picker
#
# Configuration for `wt switch` interactive picker.
#
# [switch.picker]
# # Pager command for diff preview (overrides git's core.pager)
# # pager = "delta --paging=never"
#
# # Timeout (ms) for git commands during picker loading (default: 200)
# # Lower values show the TUI faster; 0 disables timeouts
# # timeout-ms = 200
#
# ### User project-specific settings
#
# For context:
#
# - Project config (https://worktrunk.dev/config/#project-configuration) settings are shared with teammates.
# - User configs generally apply to all projects.
# - User configs _also_ has a `[projects]` table which holds project-specific settings for the user, such as worktree layout and setting overrides. That's what this section covers.
#
# Entries are keyed by project identifier (e.g., `github.com/user/repo`).
#
# #### Setting overrides (Experimental)
#
# Override global user config for a specific project. Scalar values (like `worktree-path`) replace the global value. Hooks append — both global and per-project hooks run.
#
# [projects."github.com/user/repo"]
# worktree-path = ".worktrees/{{ branch | sanitize }}"
# list.full = true
# merge.squash = false
# post-create.env = "cp .env.example .env"
#
# ### Custom prompt templates
#
# Templates use minijinja (https://docs.rs/minijinja/) syntax.
#
# #### Commit template
#
# Available variables:
#
# - `{{ git_diff }}`, `{{ git_diff_stat }}` — diff content
# - `{{ branch }}`, `{{ repo }}` — context
# - `{{ recent_commits }}` — recent commit messages
#
# Default template:
#
# <!-- DEFAULT_TEMPLATE_START -->
# [commit.generation]
# template = """
# Write a commit message for the staged changes below.
#
# <format>
# - Subject line under 50 chars
# - For material changes, add a blank line then a body paragraph explaining the change
# - Output only the commit message, no quotes or code blocks
# </format>
#
# <style>
# - Imperative mood: "Add feature" not "Added feature"
# - Match recent commit style (conventional commits if used)
# - Describe the change, not the intent or benefit
# </style>
#
# <diffstat>
# {{ git_diff_stat }}
# </diffstat>
#
# <diff>
# {{ git_diff }}
# </diff>
#
# <context>
# Branch: {{ branch }}
# {% if recent_commits %}<recent_commits>
# {% for commit in recent_commits %}- {{ commit }}
# {% endfor %}</recent_commits>{% endif %}
# </context>
#
# """
# <!-- DEFAULT_TEMPLATE_END -->
#
# #### Squash template
#
# Available variables (in addition to commit template variables):
#
# - `{{ commits }}` — list of commits being squashed
# - `{{ target_branch }}` — merge target branch
#
# Default template:
#
# <!-- DEFAULT_SQUASH_TEMPLATE_START -->
# [commit.generation]
# squash-template = """
# Combine these commits into a single commit message.
#
# <format>
# - Subject line under 50 chars
# - For material changes, add a blank line then a body paragraph explaining the change
# - Output only the commit message, no quotes or code blocks
# </format>
#
# <style>
# - Imperative mood: "Add feature" not "Added feature"
# - Match the style of commits being squashed (conventional commits if used)
# - Describe the change, not the intent or benefit
# </style>
#
# <commits branch="{{ branch }}" target="{{ target_branch }}">
# {% for commit in commits %}- {{ commit }}
# {% endfor %}</commits>
#
# <diffstat>
# {{ git_diff_stat }}
# </diffstat>
#
# <diff>
# {{ git_diff }}
# </diff>
#
# """
# <!-- DEFAULT_SQUASH_TEMPLATE_END -->
